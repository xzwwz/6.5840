2025/04/09 12:58:57 node: 0 run as follower in term 0
2025/04/09 12:58:57 node: 1 run as follower in term 0
2025/04/09 12:58:57 node: 2 run as follower in term 0
Test (3A): election after network failure (reliable network)...
2025/04/09 12:58:58 node: 2 timeout
2025/04/09 12:58:58 node: 2 convert to candidate
2025/04/09 12:58:58 node: 2 run as candidate in term 1
2025/04/09 12:58:58 node: 2 read unlock in start election in term 1
2025/04/09 12:58:58 node: 2 send request vote to node  1 in term 1
2025/04/09 12:58:58 node: 2 send request vote to node  0 in term 1
msg send
msg send
req recive
req recive
2025/04/09 12:58:58 node: 2 receive request vote reply from node  0 : VoteGranted : true , reply term : 1
2025/04/09 12:58:58 node: 2 get 2 vote 
2025/04/09 12:58:58 node: 2 convert to leader
2025/04/09 12:58:58 node: 2 run as leader in term 1
2025/04/09 12:58:58 node 2 start send heartbeats with term 1 
2025/04/09 12:58:58 node 2 try send append to node 0 with term 1
2025/04/09 12:58:58 node: 2 receive request vote reply from node  1 : VoteGranted : true , reply term : 1
2025/04/09 12:58:58 node 2 try send append to node 1 with term 1
msg send
msg send
2025/04/09 12:58:58 node 1 recive append from node 2 , term : 1 
2025/04/09 12:58:58 node 0 recive append from node 2 , term : 1 
req recive
req recive
2025/04/09 12:58:58 node 2 send append to node 1 with term before lock1
 
2025/04/09 12:58:58 node 2 send append to node 1 with term 1
2025/04/09 12:58:58 node 2 send append to node 0 with term before lock1
 
2025/04/09 12:58:58 node 2 send append to node 0 with term 1
2025/04/09 12:58:58 node 2 try send append to node 1 with term 1
2025/04/09 12:58:58 node 2 try send append to node 0 with term 1
msg send
msg send
2025/04/09 12:58:58 node 1 recive append from node 2 , term : 1 
2025/04/09 12:58:58 node 0 recive append from node 2 , term : 1 
req recive
req recive
2025/04/09 12:58:58 node 2 send append to node 1 with term before lock1
 
2025/04/09 12:58:58 node 2 send append to node 1 with term 1
2025/04/09 12:58:58 node 2 send append to node 0 with term before lock1
 
2025/04/09 12:58:58 node 2 send append to node 0 with term 1
2025/04/09 12:58:58 node 2 try send append to node 1 with term 1
2025/04/09 12:58:58 node 2 try send append to node 0 with term 1
msg send
msg send
2025/04/09 12:58:58 node 1 recive append from node 2 , term : 1 
2025/04/09 12:58:58 node 0 recive append from node 2 , term : 1 
req recive
req recive
2025/04/09 12:58:58 node 2 send append to node 1 with term before lock1
 
2025/04/09 12:58:58 node 2 send append to node 1 with term 1
2025/04/09 12:58:58 node 2 send append to node 0 with term before lock1
 
2025/04/09 12:58:58 node 2 send append to node 0 with term 1
2025/04/09 12:58:58 node 2 try send append to node 0 with term 1
2025/04/09 12:58:58 node 2 try send append to node 1 with term 1
msg send
msg send
2025/04/09 12:58:58 node 0 recive append from node 2 , term : 1 
2025/04/09 12:58:58 node 1 recive append from node 2 , term : 1 
req recive
req recive
2025/04/09 12:58:58 node 2 send append to node 0 with term before lock1
 
2025/04/09 12:58:58 node 2 send append to node 0 with term 1
2025/04/09 12:58:58 node 2 send append to node 1 with term before lock1
 
2025/04/09 12:58:58 node 2 send append to node 1 with term 1
2025/04/09 12:58:58  node 2 disconnect
2025/04/09 12:58:59 node 2 try send append to node 0 with term 1
2025/04/09 12:58:59 node 2 try send append to node 1 with term 1
msg send
msg send
2025/04/09 12:58:59 node: 0 timeout
2025/04/09 12:58:59 node: 0 convert to candidate
2025/04/09 12:58:59 node: 0 run as candidate in term 2
2025/04/09 12:58:59 node: 0 read unlock in start election in term 2
2025/04/09 12:58:59 node: 0 send request vote to node  2 in term 2
2025/04/09 12:58:59 node: 0 send request vote to node  1 in term 2
msg send
msg send
req recive
2025/04/09 12:58:59 node: 0 receive request vote reply from node  1 : VoteGranted : true , reply term : 2
2025/04/09 12:58:59 node: 0 get 2 vote 
2025/04/09 12:58:59 node: 0 convert to leader
2025/04/09 12:58:59 node: 0 run as leader in term 2
2025/04/09 12:58:59 node 0 start send heartbeats with term 2 
2025/04/09 12:58:59 node 0 try send append to node 2 with term 2
2025/04/09 12:58:59 node 0 try send append to node 1 with term 2
msg send
msg send
2025/04/09 12:58:59 node 1 recive append from node 0 , term : 2 
req recive
2025/04/09 12:58:59 node 0 send append to node 1 with term before lock2
 
2025/04/09 12:58:59 node 0 send append to node 1 with term 2
2025/04/09 12:58:59 node 0 try send append to node 1 with term 2
msg send
2025/04/09 12:58:59 node 1 recive append from node 0 , term : 2 
req recive
2025/04/09 12:58:59 node 0 send append to node 1 with term before lock2
 
2025/04/09 12:58:59 node 0 send append to node 1 with term 2
2025/04/09 12:58:59 node 0 try send append to node 1 with term 2
msg send
2025/04/09 12:58:59 node 1 recive append from node 0 , term : 2 
req recive
2025/04/09 12:58:59 node 0 send append to node 1 with term before lock2
 
2025/04/09 12:58:59 node 0 send append to node 1 with term 2
2025/04/09 12:58:59  node 2 connect
2025/04/09 12:58:59 node 0 try send append to node 1 with term 2
msg send
2025/04/09 12:58:59 node 1 recive append from node 0 , term : 2 
req recive
2025/04/09 12:58:59 node 0 send append to node 1 with term before lock2
 
2025/04/09 12:58:59 node 0 send append to node 1 with term 2
2025/04/09 12:59:00 node 0 try send append to node 1 with term 2
msg send
2025/04/09 12:59:00 node 1 recive append from node 0 , term : 2 
req recive
2025/04/09 12:59:00 node 0 send append to node 1 with term before lock2
 
2025/04/09 12:59:00 node 0 send append to node 1 with term 2
2025/04/09 12:59:00 node 0 try send append to node 1 with term 2
msg send
2025/04/09 12:59:00 node 1 recive append from node 0 , term : 2 
req recive
2025/04/09 12:59:00 node 0 send append to node 1 with term before lock2
 
2025/04/09 12:59:00 node 0 send append to node 1 with term 2
2025/04/09 12:59:00 node 0 try send append to node 1 with term 2
msg send
2025/04/09 12:59:00 node 1 recive append from node 0 , term : 2 
req recive
2025/04/09 12:59:00 node 0 send append to node 1 with term before lock2
 
2025/04/09 12:59:00 node 0 send append to node 1 with term 2
2025/04/09 12:59:00  node 0 disconnect
2025/04/09 12:59:00  node 1 disconnect
2025/04/09 12:59:00 node 0 try send append to node 1 with term 2
msg send
req recive
msg send
2025/04/09 12:59:00 node: 1 timeout
2025/04/09 12:59:00 node: 1 convert to candidate
2025/04/09 12:59:00 node: 1 run as candidate in term 3
2025/04/09 12:59:00 node: 1 read unlock in start election in term 3
2025/04/09 12:59:00 node: 1 send request vote to node  0 in term 3
2025/04/09 12:59:00 node: 1 send request vote to node  2 in term 3
msg send
msg send
req recive
msg send
2025/04/09 12:59:01 node: 1 timeout
2025/04/09 12:59:01 node: 1 convert to candidate
2025/04/09 12:59:01 node: 1 run as candidate in term 4
2025/04/09 12:59:01 node: 1 read unlock in start election in term 4
2025/04/09 12:59:01 node: 1 send request vote to node  2 in term 4
2025/04/09 12:59:01 node: 1 send request vote to node  0 in term 4
msg send
msg send
req recive
msg send
req recive
msg send
2025/04/09 12:59:02 node: 1 timeout
2025/04/09 12:59:02 node: 1 convert to candidate
2025/04/09 12:59:02 node: 1 run as candidate in term 5
2025/04/09 12:59:02 node: 1 read unlock in start election in term 5
2025/04/09 12:59:02 node: 1 send request vote to node  0 in term 5
2025/04/09 12:59:02 node: 1 send request vote to node  2 in term 5
msg send
msg send
Fatal: leader = 2
        /home/xzz/go/6.5840/src/raft1/test.go:158
        /home/xzz/go/6.5840/src/raft1/raft_test.go:110
info: wrote visualization to /tmp/porcupine-592373011.html
--- FAIL: TestReElection3A (4.47s)
FAIL
exit status 1
FAIL	6.5840/raft1	4.497s
